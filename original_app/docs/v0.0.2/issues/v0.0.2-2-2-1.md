# Title: v0.0.2-2-2-1 - Add Tasker Professional Details to Profile View

## Summary: 
Enhance the Profile component to conditionally display professional information (skills, hourly rate, bio) for users with the tasker role. This allows taskers to review their complete professional presentation that customers see when evaluating potential hires.

### Acceptance Criteria:
- [ ] Profile component conditionally renders "Professional Information" section for taskers only
- [ ] Conditional rendering uses `user.role === 'tasker'` check
- [ ] Skills field displays correctly (string format)
- [ ] Hourly rate formatted as currency with $ symbol and two decimal places (e.g., "$25.00")
- [ ] Bio displays with proper text formatting (preserves line breaks)
- [ ] Empty professional fields display "Not provided" placeholder text
- [ ] Professional section visually separated from Account Information section
- [ ] Zero hourly rate displays as "Not provided" (not "$0.00")
- [ ] Component handles null, undefined, and empty string values gracefully
- [ ] Customer users do not see Professional Information section
- [ ] Professional section styling matches Account Information section

### Test Strategy:

**Manual Testing:**
- Test profile display for tasker with complete professional data
- Test profile display for tasker with partial professional data (some null fields)
- Test profile display for tasker with no professional data (all null)
- Test profile display for customer (no professional section)
- Test hourly rate formatting with various values (0, 25.5, 100.99)
- Test bio with line breaks and special characters
- Test skills field with short and long text

**Data Scenarios:**
- Tasker with all fields: skills="Plumbing, Electrical", hourly_rate=45.50, bio="10 years experience"
- Tasker with null fields: skills=null, hourly_rate=null, bio=null
- Tasker with zero rate: hourly_rate=0
- Customer user (should not see professional section)

**Visual Testing:**
- Verify section spacing and alignment
- Verify consistent styling between sections
- Verify responsive layout on mobile devices

---

## ðŸ“ Code Changes

**Description:**
Update the Profile component to include a conditional "Professional Information" section that displays tasker-specific fields. Add helper functions for formatting hourly rate as currency and preserving bio line breaks.

**File:** `app/frontend/src/components/Profile.js`

```diff
  function Profile() {
    const [user, setUser] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);

    useEffect(() => {
      const fetchProfile = async () => {
        try {
          const userData = await getCurrentUser();
          setUser(userData);
        } catch (err) {
          setError('Failed to load profile. Please try again.');
          console.error('Profile fetch error:', err);
        } finally {
          setLoading(false);
        }
      };
      fetchProfile();
    }, []);

    // Format date helper function
    const formatDate = (dateString) => {
      if (!dateString) return 'N/A';
      return new Date(dateString).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
    };

    // Capitalize first letter of role
    const formatRole = (role) => {
      if (!role) return 'N/A';
      return role.charAt(0).toUpperCase() + role.slice(1);
    };

+   // Format hourly rate as currency
+   const formatRate = (rate) => {
+     if (!rate || rate === 0) return 'Not provided';
+     return `$${parseFloat(rate).toFixed(2)}`;
+   };

    if (loading) {
      return (
        <div className="profile-container">
          <div className="loading-message">Loading profile...</div>
        </div>
      );
    }

    if (error) {
      return (
        <div className="profile-container">
          <div className="error-message">{error}</div>
        </div>
      );
    }

    if (!user) {
      return (
        <div className="profile-container">
          <div className="error-message">No profile data available</div>
        </div>
      );
    }

    return (
      <div className="profile-container">
        <h2>My Profile</h2>
        
        <div className="profile-section">
          <h3>Account Information</h3>
          
          <div className="profile-field">
            <label className="field-label">Full Name:</label>
            <span className="field-value">{user.full_name}</span>
          </div>
          
          <div className="profile-field">
            <label className="field-label">Email:</label>
            <span className="field-value">{user.email}</span>
          </div>
          
          <div className="profile-field">
            <label className="field-label">Role:</label>
            <span className="field-value">{formatRole(user.role)}</span>
          </div>
          
          <div className="profile-field">
            <label className="field-label">Phone:</label>
            <span className="field-value">{user.phone || 'Not provided'}</span>
          </div>
          
          <div className="profile-field">
            <label className="field-label">Location:</label>
            <span className="field-value">{user.location || 'Not provided'}</span>
          </div>
          
          <div className="profile-field">
            <label className="field-label">Member Since:</label>
            <span className="field-value">{formatDate(user.created_at)}</span>
          </div>
        </div>
        
+       {user.role === 'tasker' && (
+         <div className="profile-section">
+           <h3>Professional Information</h3>
+           
+           <div className="profile-field">
+             <label className="field-label">Skills:</label>
+             <span className="field-value">{user.skills || 'Not provided'}</span>
+           </div>
+           
+           <div className="profile-field">
+             <label className="field-label">Hourly Rate:</label>
+             <span className="field-value">{formatRate(user.hourly_rate)}</span>
+           </div>
+           
+           <div className="profile-field">
+             <label className="field-label">Bio:</label>
+             <span className="field-value" style={{ whiteSpace: 'pre-wrap' }}>
+               {user.bio || 'Not provided'}
+             </span>
+           </div>
+         </div>
+       )}
      </div>
    );
  }

  export default Profile;
```

---

## ðŸ“„ JSON Contracts (If Applicable)

**User Response for Tasker:**
```json
{
  "id": 2,
  "email": "tasker@example.com",
  "full_name": "Jane Smith",
  "role": "tasker",
  "phone": "555-5678",
  "location": "Brooklyn, NY",
  "created_at": "2025-11-01T14:20:00.000Z",
  "skills": "Plumbing, Electrical, Carpentry",
  "hourly_rate": 45.50,
  "bio": "Licensed professional with 10 years of experience.\nSpecializing in residential repairs and installations."
}
```

**User Response for Customer (comparison):**
```json
{
  "id": 1,
  "email": "customer@example.com",
  "full_name": "John Doe",
  "role": "customer",
  "phone": "555-1234",
  "location": "New York, NY",
  "created_at": "2025-11-10T10:30:00.000Z",
  "skills": null,
  "hourly_rate": null,
  "bio": null
}
```

**Notes:**
- Backend returns all fields for all users (tasker fields are null for customers)
- Frontend conditionally renders professional section based on role
- Bio can contain newline characters (\n) which are preserved with `whiteSpace: 'pre-wrap'`

---

## ðŸ“¦ Dependencies (If Applicable)

**Package Manager:** `npm`

No new dependencies required. Enhancement to existing Profile component.

---

## Issue Dependencies

**Depends on:**
- v0.0.2-2-1-1 - Customer Profile View Component (provides base component to enhance)

**Blocks:**
- v0.0.2-2-3-1 - Read-Only Profile Display Styling (applies to complete profile including tasker section)

## Related Issues

- v0.0.2-2-1-1 - Customer Profile View Component
- v0.0.2-2-3-1 - Read-Only Profile Display Styling