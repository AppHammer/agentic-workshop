# Title: v0.0.1-1-1-3 - Create Profile Page Component

## Summary: 
Create a new Profile.jsx page component that displays the authenticated user's profile information including username, email, account type, join date, and conditionally displays tasker-specific fields (skills and hourly rate) for tasker users.

### Acceptance Criteria:
- [ ] Component created as `Profile.jsx` in `frontend/src/pages/` directory
- [ ] Uses React functional component with hooks (useState, useEffect)
- [ ] Fetches user data from `/api/users/me/profile` endpoint using Axios
- [ ] Implements loading state while fetching data
- [ ] Displays all required fields with clear labels
- [ ] Date formatting is human-readable (e.g., "January 15, 2024")
- [ ] Page is responsive and works on mobile devices
- [ ] Styling uses consistent CSS patterns from App.css
- [ ] Handles conditional rendering for tasker vs customer
- [ ] Page has clear heading "My Profile"
- [ ] Component follows structure pattern used in other pages
- [ ] All fields display correctly for both user types
- [ ] Null/empty values handled gracefully

### Test Strategy:

**Types of Tests:**
- Manual testing with different user types
- Responsive design testing
- Data display validation

**Test Cases:**
1. **Tasker Profile**: Login as tasker, verify all fields including skills and hourly_rate
2. **Customer Profile**: Login as customer, verify tasker fields are not displayed
3. **Loading State**: Verify loading indicator appears during data fetch
4. **Date Format**: Verify created_at displays in readable format
5. **Responsive Layout**: Test on mobile, tablet, and desktop viewports
6. **Empty Skills**: Test tasker with null/empty skills displays "Not specified"
7. **Empty Hourly Rate**: Test tasker with null hourly_rate displays "Not specified"

**Tools:**
- Manual browser testing
- Chrome DevTools responsive mode
- Multiple test accounts (tasker and customer)

---

## ðŸ“ Code Changes

**Description:**
Create a new Profile page component that fetches and displays the current user's profile data. The component will use React hooks for state management, make an API call on mount to fetch profile data, and render the information in a clean, organized layout with conditional rendering for tasker-specific fields.

---

## âœ¨ New Files (If Applicable)

- `frontend/src/pages/Profile.jsx`

---

## ðŸ–¥ï¸ Front End Components (If Applicable)

**Component Name:** `Profile.jsx`

**Description:**
A page-level component that displays the authenticated user's complete profile information. Fetches data from the backend API, handles loading and error states, and conditionally renders tasker-specific fields based on user type. The component follows the established pattern used in other pages like Dashboard and TaskList.

**Props:** None (uses API to fetch data)

**Code:**

```jsx
import { useState, useEffect } from 'react';
import { profileAPI } from '../api';
import '../App.css';

export default function Profile() {
  const [profile, setProfile] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetchProfile();
  }, []);

  const fetchProfile = async () => {
    try {
      setLoading(true);
      const response = await profileAPI.getMyProfile();
      setProfile(response.data);
      setError(null);
    } catch (err) {
      console.error('Error fetching profile:', err);
      setError(err.response?.data?.detail || 'Failed to load profile');
    } finally {
      setLoading(false);
    }
  };

  const formatDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', { 
      year: 'numeric', 
      month: 'long', 
      day: 'numeric' 
    });
  };

  if (loading) {
    return (
      <div className="container">
        <div className="loading-message">Loading profile...</div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="container">
        <div className="error-message">
          <p>{error}</p>
          <button onClick={fetchProfile} className="retry-button">
            Retry
          </button>
        </div>
      </div>
    );
  }

  if (!profile) {
    return (
      <div className="container">
        <div className="error-message">No profile data available</div>
      </div>
    );
  }

  return (
    <div className="container">
      <div className="profile-container">
        <h1>My Profile</h1>
        
        <div className="profile-section">
          <div className="profile-field">
            <label className="profile-label">Username:</label>
            <span className="profile-value">{profile.username}</span>
          </div>

          <div className="profile-field">
            <label className="profile-label">Email:</label>
            <span className="profile-value">{profile.email}</span>
          </div>

          <div className="profile-field">
            <label className="profile-label">Account Type:</label>
            <span className="profile-value">
              {profile.user_type.charAt(0).toUpperCase() + profile.user_type.slice(1)}
            </span>
          </div>

          <div className="profile-field">
            <label className="profile-label">Member Since:</label>
            <span className="profile-value">{formatDate(profile.created_at)}</span>
          </div>
        </div>

        {profile.user_type === 'tasker' && (
          <div className="tasker-info-section">
            <h2>Tasker Information</h2>
            
            <div className="profile-field">
              <label className="profile-label">Skills:</label>
              <span className="profile-value">
                {profile.skills || 'Not specified'}
              </span>
            </div>

            <div className="profile-field">
              <label className="profile-label">Hourly Rate:</label>
              <span className="profile-value">
                {profile.hourly_rate 
                  ? `$${parseFloat(profile.hourly_rate).toFixed(2)}`
                  : 'Not specified'
                }
              </span>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
```

**CSS Styles (to be added to App.css):**

```css
/* Profile Page Styles */
.profile-container {
  max-width: 600px;
  margin: 0 auto;
  padding: 2rem;
}

.profile-section {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 2rem;
}

.profile-field {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 0;
  border-bottom: 1px solid #e0e0e0;
}

.profile-field:last-child {
  border-bottom: none;
}

.profile-label {
  font-weight: 600;
  color: #333;
  min-width: 150px;
}

.profile-value {
  color: #666;
  text-align: right;
  word-break: break-word;
}

.tasker-info-section {
  background-color: #e8f4f8;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 2rem;
}

.tasker-info-section h2 {
  margin-top: 0;
  margin-bottom: 1rem;
  color: #0066cc;
  font-size: 1.25rem;
}

.loading-message {
  text-align: center;
  padding: 3rem;
  font-size: 1.1rem;
  color: #666;
}

.error-message {
  text-align: center;
  padding: 2rem;
  background-color: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: 8px;
  color: #856404;
}

.retry-button {
  margin-top: 1rem;
  padding: 0.5rem 1.5rem;
  background-color: #0066cc;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
}

.retry-button:hover {
  background-color: #0052a3;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .profile-container {
    padding: 1rem;
  }

  .profile-field {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .profile-label {
    min-width: auto;
  }

  .profile-value {
    text-align: left;
  }
}
```

---

## ðŸ“¦ Dependencies (If Applicable)

No new dependencies required. Uses existing:

**Package Manager:** `npm`
- `react@^18.2.0` (already installed)
- `axios@^1.6.2` (already installed)

---

## Issue Dependencies

- **Depends on:** v0.0.1-1-1-1 - Backend API Endpoint for User Profile (must exist to fetch data)

## Related Issues

- v0.0.1-1-1-2 - Make Navigation Username Clickable (links to this page)
- v0.0.1-1-1-4 - Add Profile Route and Integration (integrates this component)
- v0.0.1-1-1-5 - Conditional Tasker Fields Display (implemented in this component)
- v0.0.1-1-1-6 - Error Handling and Loading States (implemented in this component)